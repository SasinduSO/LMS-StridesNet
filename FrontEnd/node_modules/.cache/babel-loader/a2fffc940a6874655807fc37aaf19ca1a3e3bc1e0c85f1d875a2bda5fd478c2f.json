{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\STRIDES-NET\\\\StridesNet\\\\FrontEnd\\\\src\\\\Instructor\\\\pages\\\\StudentCourse.js\",\n  _s = $RefreshSig$();\nimport \"../style/StudentCourses.css\";\nimport DynamicTable from \"../../shared/DynamicTable\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { getAuthUser } from \"../../helper/Storage\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StudentCourse = () => {\n  _s();\n  let {\n    code\n  } = useParams();\n  const auth = getAuthUser();\n  const [courses, setCourses] = useState({\n    loading: true,\n    results: [],\n    err: null,\n    reload: 0\n  });\n  useEffect(() => {\n    setCourses({\n      ...courses,\n      loading: true\n    });\n    axios.get(\"http://localhost:4000/view-enrolled-students\", {\n      headers: {\n        token: auth.token,\n        code: code\n      }\n    }).then(resp => {\n      setCourses({\n        ...courses,\n        results: resp.data,\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      setCourses({\n        ...courses,\n        loading: false,\n        err: \"Something Went Wrong\"\n      });\n    });\n  }, [courses.reload]);\n  const setGrade = (email, grade) => {\n    if (grade === \"\") {\n      grade = null;\n    }\n    axios.post(\"http://localhost:4000/set-grades\", {\n      student_email: email,\n      course_code: code,\n      grade: grade\n    }, {\n      headers: {\n        token: auth.token\n      }\n    }).then(res => {\n      setCourses({\n        ...courses,\n        reload: courses.reload + 1\n      });\n    }).catch(error => {\n      if (error.response.status === 422) {\n        const errorMsg = error.response.data.errors[0].msg;\n        setCourses({\n          ...courses,\n          loading: false,\n          err: errorMsg\n        });\n      } else {\n        setCourses({\n          ...courses,\n          loading: false,\n          err: \"Something Went Wrong\"\n        });\n      }\n    });\n  };\n  let TableData;\n  if (Array.isArray(courses.results)) {\n    courses.results.forEach(result => {\n      result = Object.assign(result, {\n        Grade: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          max: \"100\",\n          min: \"0\",\n          onChange: e => {\n            result.StudentGrade = e.target.value;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this),\n        Update: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"student-submit\",\n          onClick: e => {\n            setGrade(result.StudentEmail, result.StudentGrade);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      });\n    });\n    TableData = courses.results.map(obj => {\n      const {\n        CourseName,\n        ...rest\n      } = obj;\n      return rest;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [courses.loading === false && courses.err === null && Array.isArray(courses.results) && DynamicTable(TableData, courses.results[0].CourseName), courses.loading === false && courses.err == null && !Array.isArray(courses.results) && courses.results && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"info\",\n      style: {\n        width: \"50%\",\n        margin: \"5% auto\",\n        textAlign: \"center\"\n      },\n      children: courses.results\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }, this), courses.loading === false && courses.err != null && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        style: {\n          width: \"50%\",\n          margin: \"5% auto\",\n          zIndex: \"-1\",\n          textAlign: \"center\"\n        },\n        children: courses.err\n      }, \"danger\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"showbtn\",\n        onClick: e => window.location.reload(),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(StudentCourse, \"tbeJd8HbIQIe/+ko0Q2r6qNIQo4=\", false, function () {\n  return [useParams];\n});\n_c = StudentCourse;\nexport default StudentCourse;\nvar _c;\n$RefreshReg$(_c, \"StudentCourse\");","map":{"version":3,"names":["DynamicTable","React","useState","useEffect","axios","getAuthUser","Alert","useParams","jsxDEV","_jsxDEV","Fragment","_Fragment","StudentCourse","_s","code","auth","courses","setCourses","loading","results","err","reload","get","headers","token","then","resp","data","catch","console","log","setGrade","email","grade","post","student_email","course_code","res","error","response","status","errorMsg","errors","msg","TableData","Array","isArray","forEach","result","Object","assign","Grade","type","max","min","onChange","e","StudentGrade","target","value","fileName","_jsxFileName","lineNumber","columnNumber","Update","className","onClick","StudentEmail","map","obj","CourseName","rest","children","variant","style","width","margin","textAlign","zIndex","window","location","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/STRIDES-NET/StridesNet/FrontEnd/src/Instructor/pages/StudentCourse.js"],"sourcesContent":["import \"../style/StudentCourses.css\";\r\nimport DynamicTable from \"../../shared/DynamicTable\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getAuthUser } from \"../../helper/Storage\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst StudentCourse = () => {\r\n  let { code } = useParams();\r\n  const auth = getAuthUser();\r\n  const [courses, setCourses] = useState({\r\n    loading: true,\r\n    results: [],\r\n    err: null,\r\n    reload: 0,\r\n  });\r\n  useEffect(() => {\r\n    setCourses({ ...courses, loading: true });\r\n    axios\r\n      .get(\"http://localhost:4000/view-enrolled-students\", {\r\n        headers: { token: auth.token, code: code },\r\n      })\r\n      .then((resp) => {\r\n        setCourses({ ...courses, results: resp.data, loading: false });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setCourses({\r\n          ...courses,\r\n          loading: false,\r\n          err: \"Something Went Wrong\",\r\n        });\r\n      });\r\n  }, [courses.reload]);\r\n\r\n  const setGrade = (email, grade) => {\r\n    if (grade === \"\") {\r\n      grade = null;\r\n    }\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/set-grades\",\r\n        { student_email: email, course_code: code, grade: grade },\r\n        {\r\n          headers: {\r\n            token: auth.token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setCourses({ ...courses, reload: courses.reload + 1 });\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 422) {\r\n          const errorMsg = error.response.data.errors[0].msg;\r\n          setCourses({ ...courses, loading: false, err: errorMsg });\r\n        } else {\r\n          setCourses({\r\n            ...courses,\r\n            loading: false,\r\n            err: \"Something Went Wrong\",\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  let TableData;\r\n  if (Array.isArray(courses.results)) {\r\n    courses.results.forEach((result) => {\r\n      result = Object.assign(result, {\r\n        Grade: (\r\n          <input\r\n            type=\"number\"\r\n            max=\"100\"\r\n            min=\"0\"\r\n            onChange={(e) => {\r\n              result.StudentGrade = e.target.value;\r\n            }}\r\n          />\r\n        ),\r\n        Update: (\r\n          <input\r\n            type=\"submit\"\r\n            className=\"student-submit\"\r\n            onClick={(e) => {\r\n              setGrade(result.StudentEmail, result.StudentGrade);\r\n            }}\r\n          />\r\n        ),\r\n      });\r\n    });\r\n\r\n    TableData = courses.results.map((obj) => {\r\n      const { CourseName, ...rest } = obj;\r\n      return rest;\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {courses.loading === false &&\r\n        courses.err === null &&\r\n        Array.isArray(courses.results) &&\r\n        DynamicTable(TableData, courses.results[0].CourseName)}\r\n\r\n      {courses.loading === false &&\r\n        courses.err == null &&\r\n        !Array.isArray(courses.results) &&\r\n        courses.results && (\r\n          <Alert\r\n            variant=\"info\"\r\n            style={{\r\n              width: \"50%\",\r\n              margin: \"5% auto\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {courses.results}\r\n          </Alert>\r\n        )}\r\n\r\n      {courses.loading === false && courses.err != null && (\r\n        <>\r\n          {\" \"}\r\n          <Alert\r\n            key=\"danger\"\r\n            variant=\"danger\"\r\n            style={{\r\n              width: \"50%\",\r\n              margin: \"5% auto\",\r\n              zIndex: \"-1\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {courses.err}\r\n          </Alert>\r\n          <br />\r\n          <button className=\"showbtn\" onClick={(e) => window.location.reload()}>\r\n            Back\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StudentCourse;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}